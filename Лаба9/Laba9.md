-—
# Front matter
lang: ru-RU
title: **"Отчёт по лабораторной работе №9"**

subtitle: **"Текстовой редактор vi"**

author: "Малашенко Марина Владимировна"

# Formatting
toc-title: "Содержание"
toc: true # Table of contents
toc_depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4paper
documentclass: scrreprt
polyglossia-lang: russian
polyglossia-otherlangs: english
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase
indent: true
pdf-engine: lualatex
header-includes:
- \linepenalty=10 # the penalty added to the badness of each line within a paragraph (no associated penalty node) Increasing the value makes tex try to have fewer lines in the paragraph.
- \interlinepenalty=0 # value of the penalty (node) added after each line of a paragraph.
- \hyphenpenalty=50 # the penalty for line breaking at an automatically inserted hyphen
- \exhyphenpenalty=50 # the penalty for line breaking at an explicit hyphen
- \binoppenalty=700 # the penalty for breaking a line at a binary operator
- \relpenalty=500 # the penalty for breaking a line at a relation
- \clubpenalty=150 # extra penalty for breaking after first line of a paragraph
- \widowpenalty=150 # extra penalty for breaking before last line of a paragraph
- \displaywidowpenalty=50 # extra penalty for breaking before last line before a display math
- \brokenpenalty=100 # extra penalty for page breaking after a hyphenated line
- \predisplaypenalty=10000 # penalty for breaking before a display
- \postdisplaypenalty=0 # penalty for breaking after a display
- \floatingpenalty = 20000 # penalty for splitting an insertion (can only be split footnote in standard LaTeX)
- \raggedbottom # or \flushbottom
- \usepackage{float} # keep figures where there are in the text
- \floatplacement{figure}{H} # keep figures where there are in the text
--—
-—



# Цель работы

Познакомиться с операционной системой Linux. Получить практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах. 



# Ход работы

**1.** Создали каталог с именем ~/work/os/lab06. Использовали команду mkdir ~/ work/os/lab06. 

Перешли во вновь созданный каталог, использовав команду cd~/work/os/lab06. 3. Вызвали Vi и создали файл hello.sh 

![рис.1 Открытие](screen/1.jpg)


**2.** 4.	Нажали клавишу i и ввели следующий текст (предоставленный в лаб.работе). 

#!/bin/bash 

HELL=Hello 

function hello { 

LOCAL HELLO=World 

echo $HELLO 

} 

echo $HELLO 

hello 

![рис.2 Текст](screen/2.jpg)


**3.** Нажали клавишу ESC для перехода в командный режим после завершения ввода текста. 


Нажали двоеточие (:) для перехода в режим последней строки и 
внизу экрана появилось приглашение в виде двоеточия. 

Затем Нажали w (записать) и q (выйти), а затем нажмём клавишу <RETURN> для сохранения текста и завершения работы. Сделали файл исполняемым chmod +x hello.sh 

![рис.3 hello.sh](screen/3.jpg)

**4.**

1.	Вызвали Vi на редактирование файла vi ~/work/os/lab06/hello.sh. 
2.	Установили курсор на конец слова HELL второй строки. 
3.Затем перешли режим вставки и заменили на HELLO. Нажали <ESC>,чтобы вернуться в командный режим. 
4.	Установим курсор на четвертую строку и сотрём слово LOCAL. 
5.	Перешли в режим вставки и набрали текст: local нажали ESC, чтобы вернуться в командный режим. 
6.	Установили курсор на последней строке файла. Вставили после неё строку, содержащую текст: echo $HELLO . 


![рис.4 Текст](screen/4.jpg)


**4.** Нажали <ESC>, чтобы перейти в командный режим. Удалили последнюю строку. 


![рис.5 Удаление](screen/5.jpg)

**5.** Ввели команду отменыизменений u для отмены последней команды. Ввели символ: (двоеточие) для перехода в режим последней строки. Записали произведенные изменения на диск и вышли из vi. 

![рис.6 Записание](screen/6.jpg)


# Вывод
Мы познакомились с операционной системой Linux. Получили практические навыки работы с редактором vi, установленным по умолчанию практически во всех дистрибутивах. 


## Ответы на контрольные вопросы
1.	Командный режим позволяет управлять курсором и вводить команды редактирования. 
Режим вставки допускает производить ввод текста. При этом текст не будет восприниматься, как команды редактирования. 
Режим последней строки позволяет производить запись файла на диск и выходить из редактора Vi. Кроме того, используя этот режим, можно вводить дополнительные команды редактирования. 
2.	Если необходимо просто выйти Vi (без сохранения выполненных изменений), то необходимо в последней строке набрать символ q (или q!). 
3.	0 (ноль) - перейти в начало строки; 
$ - перейти в конец строки; G - перейти в конец файла; nG - перейти на строку номер n. 
4.	Редактор vi предполагает, что слово - это строка символов, которая может включать в себя буквы, цифры и символы подчеркивания. 
5.	0 (ноль) - перейти в начало строки; 
$ - перейти в конец строки; 6. Добавление / вставка текста а- добавить текст после курсора; А- добавить текст в конец строки; i- вставить текст перед курсором; 
ni- вставить текст n раз; 
I- вставить текст в началостроки. Вставка строки o-вставить строку под курсором; О- вставить строку над курсором. Удаление текста x- удалить один символ в буфер; dw- удалить одно слово в буфер; 
d$- удалить в буфер текст от курсора до конца строки; 
d0-(ноль) - удалить в буфер текст от начала строки до позиции курсора; dd- удалить в буфер одну строку; 10dd- удалить в буфер 10 строк. 
Отмена и повтор произведенных изменений u- отменить последнее изменение; - повторить последнее изменение. 
Копирование текста в буфер Y- скопировать строку в буфер; nY- скопировать n строк в буфер; yw- скопировать слово в буфер; Вставка текста из буфера p- вставить текст из буфера после курсора; P- вставить текст из буфера перед курсором. 
Замена текста cw - заменить слово; n cw - заменить n слов; 
c$- заменить текст от курсора до конца строки; 
r- заменить слово; R- заменить текст. 
Поиск текста 
/ <текст> - произвести поиск вперед по тексту указанной строки символов <текст>; 
? <текст> - произвести поиск назад по тексту указанной строки символов <текст>. 
7.	c$ - заменить текст от курсора до конца строки. 
8.	u- отменить последнее изменение 
9.	Kопирование и перемещение текста :n,m d-уничтожить строки с n по m 
пример: : 3,8d 
: i,j m k- переместить строки с i по j , начиная со строки k пример : : 4,9m12 
: i,j t k- копировать строки с i по j на строку k пример: : 2,5 t 13 
: i,j w <имя_файла>- записать строки с i по j в файл с именем <имя_файла> пример: : 5,9 <имя _файла>. Запись в файл и выход из редактора 
:w- записать измененныйтекст в файл на диске, не выходя из Vi; 
:w <newfile>- записать измененный текст в новый файл с именем <newfile>; 
:w! <имя_файла>- записать измененный текст в файл с именем<имя_файла> ; - :wq- записать изменения в файл и выйти из Vi; 
:q- выйти из редактора Vi; 
:q!- выйти из редактора без записи; 
:e!- вернуться в командный режим, отменив все изменения,произведенные со времени последней записи 
10.	$ - перемещает курсор в конец строки. 
11.	Опции редактора Vi позволяют настроить рабочую среду. Для задания опций используется команда set (в режиме последней строки): 
: set all - вывести полный список опций; 
: set nu - вывести номера строк; 
: set list - вывести невидимые символы; 
: set ic - не учитывать при поиске, является ли символ прописным или строчным. 
12.	Нажатие клавиши ESC всегда переводит Vi в командный режим (это удобно, когда вы точно не помните в каком режиме находитесь). Если вы нажмете клавишу ESC, находясь в командном режиме, машина напомнит вам об этом, подав звуковой сигнал. 
13.	Командный –>вставки– >последняя строка (командная строка). 


## Библиография

- Знакомство с vi — метод шпаргалки (англ.) перевод на русский Даниэль Роббинс, президент/исполнительный директор, Gentoo Technologies, Inc.
- Очень кратко о редакторе «VI»
- Лекция: Текстовые редакторы Vi и Vim — Г. В. Курячий
- The vi Open Source Project on Open Hub: Languages Page — 2006
- The Traditional Vi
- Bill Joy’s greatest gift to man — the vi editor

